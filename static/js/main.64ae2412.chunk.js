(this["webpackJsonpbin-juice"]=this["webpackJsonpbin-juice"]||[]).push([[0],{12:function(t,e,n){},19:function(t,e,n){},21:function(t,e,n){},22:function(t,e,n){},23:function(t,e,n){"use strict";n.r(e);var c,a=n(0),r=n(1),i=n.n(r),s=n(13),o=n.n(s),l=(n(19),n(3)),u=n(8),b=n.n(u),j=n(9),d=n(5),h=n(2),O=n(10);!function(t){t.Text="Text",t.Hex="Hex",t.Pixel="Pixel",t.Pixel16="Grayscale"}(c||(c={}));var v=c;function f(t,e){return t.toString(2).padStart(e,"0")}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0x";return n+t.toString(16).padStart(e,"0")}n(12);var g,x=function(t){var e=t.type,n=t.start,c=t.length,i=t.top,s=t.height,o=t.visibleStart,u=t.visibleEnd,b=t.cursor,j=t.onUpdateCursor,d=t.onUpdateLength,h=t.onUpdateType,f=t.onMergeBlock,g=t.contentsComponent,x=Object(O.a)(t,["type","start","length","top","height","visibleStart","visibleEnd","cursor","onUpdateCursor","onUpdateLength","onUpdateType","onMergeBlock","contentsComponent"]),m=Object(r.useCallback)((function(t){var e=parseInt(t.target.value,10);e&&d(n,e)}),[n,d]),k=Object(r.useCallback)((function(t){var e=t.target.value;h(n,e)}),[h,n]),C=Object(r.useCallback)((function(){j(n)}),[n,j]),y=Object(r.useCallback)((function(){f(n)}),[n,f]),N=Object.values(v),w=g,S=b>=n&&b<n+c,B=Object(r.useMemo)((function(){return{top:i,height:s}}),[i,s]);return i>u||i+s<o?null:Object(a.jsxs)("div",{className:"Block".concat(S?" Selected":""),style:B,onClick:C,children:[Object(a.jsx)("div",{className:"BlockAddress",children:p(n,16)}),Object(a.jsxs)("div",{className:"BlockActions",children:[Object(a.jsx)("select",{value:e,onChange:k,children:N.map((function(t){return Object(a.jsx)("option",{value:t,children:t},t)}))}),n?Object(a.jsx)("button",{onClick:y,children:"Merge"}):null]}),Object(a.jsx)("div",{className:"BlockContents",children:Object(a.jsx)(w,Object(l.a)({start:n,length:c,visibleEnd:u,visibleStart:o,cursor:b,onUpdateCursor:j},x))}),Object(a.jsx)("div",{className:"BlockOptions",children:Object(a.jsx)("div",{className:"BlockOptionsOverflow",children:S?Object(a.jsx)("div",{className:"BlockOptionList",children:Object(a.jsx)("div",{children:Object(a.jsx)("input",{value:c,onChange:m})})}):null})})]})};!function(t){t[t.Byte=0]="Byte",t[t.Word=1]="Word",t[t.Dword=2]="Dword"}(g||(g={}));var m,k=g,C=(m={},Object(h.a)(m,k.Byte,1),Object(h.a)(m,k.Word,2),Object(h.a)(m,k.Dword,4),m);var y,N,w=function(t){for(var e=t.data,n=t.start,c=t.length,i=t.cursor,s=t.bitLength,o=t.cellFormatter,l=t.className,u=t.onUpdateCursor,b=[],j=Object(r.useCallback)((function(t){var e=parseInt(t.target.dataset.position,10);u(e),t.stopPropagation()}),[u]),d=C[s],h=Math.min(n+c,e.byteLength-4),O=n;O<h;O+=d){var v=i===O,f=e.getUint8(O);s===k.Word?f=e.getUint16(O):s===k.Dword&&(f=e.getUint32(O)),b.push(Object(a.jsx)("span",{onClick:j,className:"Cell".concat(v?" Selected":""),"data-position":O,children:o(O,f)},O))}return Object(a.jsx)("div",{className:"Row ".concat(null!==l&&void 0!==l?l:""),children:b})},S=function(t){for(var e=t.start,n=t.length,c=t.cursor,r=t.columns,i=Object(O.a)(t,["start","length","cursor","columns"]),s=[],o=0;o<Math.ceil(n/r);o++){var u=e+o*r,b=Math.min(e+n,u+r)-u;s.push(Object(a.jsx)(w,Object(l.a)({start:u,length:b,cursor:c,columns:r},i),o))}return Object(a.jsx)("div",{children:s})},B=function(t){var e=Object(r.useCallback)((function(t,e){return p(e,2,"")}),[]);return Object(a.jsx)(S,Object(l.a)({bitLength:k.Byte,cellFormatter:e},t))},L=function(t){var e=Object(r.useCallback)((function(t,e){var n={background:p(e,8,"#"),width:6,height:6};return Object(a.jsx)("div",{style:n,"data-position":t})}),[]);return Object(a.jsx)(S,Object(l.a)({className:"Pixel",bitLength:k.Dword,cellFormatter:e},t))},U=function(t){var e=Object(r.useCallback)((function(t,e){var n=e/4%256,c={background:"rgb(".concat(n,", ").concat(n,", ").concat(n,")"),width:6,height:6};return Object(a.jsx)("div",{style:c,"data-position":t})}),[]);return Object(a.jsx)(S,Object(l.a)({className:"Pixel",bitLength:k.Word,cellFormatter:e},t))},D=function(t){var e=Object(r.useCallback)((function(t,e){return String.fromCharCode(e).replace(/[^ -~]+/g,".")}),[]);return Object(a.jsx)(S,Object(l.a)({className:"Text",bitLength:k.Byte,cellFormatter:e},t))},H=(n(21),function(t){var e=t.className,n=t.data,c=t.cursor,i=t.onSplitBlock,s=Object(r.useState)(!1),o=Object(d.a)(s,2),l=o[0],u=o[1],b=n.getUint8(c),j=Object(r.useCallback)((function(){u(!l)}),[l]),h=c+1<n.byteLength?n.getUint16(c,l):b,O=c+3<n.byteLength?n.getUint32(c,l):b;return Object(a.jsxs)("div",{className:e,children:[Object(a.jsx)("div",{className:"InspectorTitle",children:p(c,16)}),Object(a.jsx)("button",{onClick:i,children:"Split"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"checkbox",checked:l,onChange:j}),"Little Endian"]}),Object(a.jsxs)("div",{className:"InspectorRow",children:[Object(a.jsx)("div",{className:"InspectorHeader",children:"Binary"}),Object(a.jsx)("div",{children:f(b,8)}),Object(a.jsx)("div",{children:f(h,16)}),Object(a.jsx)("div",{children:f(O,32)})]}),Object(a.jsxs)("div",{className:"InspectorRow",children:[Object(a.jsx)("div",{className:"InspectorHeader",children:"Hex"}),Object(a.jsx)("div",{children:p(b,2)}),Object(a.jsx)("div",{children:p(h,4)}),Object(a.jsx)("div",{children:p(O,8)})]})]})}),M=function(t){var e=t.onUpdateData,n="Drag File Here",c=Object(r.useState)(n),i=Object(d.a)(c,2),s=i[0],o=i[1],l=Object(r.useCallback)((function(t){var c,a,r=null===(c=t.dataTransfer)||void 0===c||null===(a=c.files)||void 0===a?void 0:a[0];function i(){return(i=Object(j.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,r.arrayBuffer();case 3:n=t.sent,e(new DataView(n));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t.preventDefault(),function(){i.apply(this,arguments)}(),o(n)}),[e]),u=Object(r.useCallback)((function(t){o("Drop!"),t.preventDefault()}),[]),h=Object(r.useCallback)((function(t){o(n)}),[]);return Object(a.jsxs)("div",{className:"DropArea",onDrop:l,onDragOver:u,onDragLeave:h,children:[Object(a.jsx)("h1",{children:s}),";"]})},I=n(4),T=n(7),P=n(6),E=function(t){Object(T.a)(n,t);var e=Object(P.a)(n);function n(t,c,a){var r;return Object(I.a)(this,n),(r=e.call(this,t)).rowHeight=void 0,r.getHeight=function(){return Math.ceil(r.length/r.columns)*r.rowHeight},r.columns=c,r.rowHeight=a,r}return n}((function t(e){Object(I.a)(this,t),this.columns=1,this.length=void 0,this.getHeight=void 0,this.length=e})),F=function(t){Object(T.a)(n,t);var e=Object(P.a)(n);function n(t){return Object(I.a)(this,n),e.call(this,t,16,32)}return n}(E),W=function(t){Object(T.a)(n,t);var e=Object(P.a)(n);function n(t){return Object(I.a)(this,n),e.call(this,t,32,32)}return n}(E),A=function(t){Object(T.a)(n,t);var e=Object(P.a)(n);function n(t){return Object(I.a)(this,n),e.call(this,t,256,8)}return n}(E),R=(y={},Object(h.a)(y,v.Hex,F),Object(h.a)(y,v.Text,W),Object(h.a)(y,v.Pixel,A),Object(h.a)(y,v.Pixel16,A),y),J=(n(22),N={},Object(h.a)(N,v.Hex,B),Object(h.a)(N,v.Text,D),Object(h.a)(N,v.Pixel,L),Object(h.a)(N,v.Pixel16,U),N);var V=function(){var t=Object(r.useState)(),e=Object(d.a)(t,2),n=e[0],c=e[1],i=Object(r.useState)([]),s=Object(d.a)(i,2),o=s[0],u=s[1],h=Object(r.useState)(0),O=Object(d.a)(h,2),f=O[0],p=O[1],g=Object(r.useRef)(null),m=Object(r.useState)(0),k=Object(d.a)(m,2),C=k[0],y=k[1],N=Object(r.useState)(0),w=Object(d.a)(N,2),S=w[0],B=w[1];Object(r.useEffect)((function(){function t(){return(t=Object(j.a)(b.a.mark((function t(){var e,n,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("CT-MONO2-16-brain.dcm");case 2:return e=t.sent,t.next=5,e.blob();case 5:return n=t.sent,t.next=8,n.arrayBuffer();case 8:a=t.sent,c(new DataView(a));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){if(n){for(var t=[],e=0;e<n.byteLength;e+=1024){var c=Math.min(1024,n.byteLength-e);t.push({type:v.Hex,length:c})}u(t)}}),[n]);var L=Object(r.useMemo)((function(){var t=[],e=0,c=0;return n&&o.forEach((function(a){var r=a.type,i=a.length,s=e,o=Math.min(e+i,n.byteLength),l=new R[r](i),u=l.getHeight();s<n.byteLength&&t.push({type:r,start:s,end:o,length:o-s,top:c,height:u,layout:l}),e+=i,c+=u})),t}),[o,n]),U=Object(r.useMemo)((function(){var t=L[L.length-1];return{height:t?t.top+t.height:0}}),[L]),D=Object(r.useCallback)((function(){var t,e,n,c,a=null!==(t=null===(e=g.current)||void 0===e?void 0:e.scrollTop)&&void 0!==t?t:0,r=null!==(n=null===(c=g.current)||void 0===c?void 0:c.offsetHeight)&&void 0!==n?n:0;y(a),B(a+r)}),[]);Object(r.useLayoutEffect)((function(){n&&D()}),[n,D]);var I=Object(r.useCallback)((function(t,e){var n=L.findIndex((function(e){return e.start===t}));if(-1!==n){var c=o.slice();c[n].type=e,u(c)}}),[o,L]),T=Object(r.useCallback)((function(t,e){var n=L.findIndex((function(e){return e.start===t}));if(-1!==n){var c=o.slice();c[n].length=e,u(c)}}),[o,L]),P=Object(r.useCallback)((function(t){var e=L.findIndex((function(e){return e.start===t}));if(!(e<1)){var n=o.slice();n.splice(e,1),n[e-1].length+=o[e].length,u(n)}}),[o,L]),E=Object(r.useCallback)((function(){var t=L.findIndex((function(t){return f>=t.start&&f<t.end}));if(-1!==t){var e=L[t];if(f!==e.start){var n=o.slice(),c=f-e.start;n[t].length=c;var a=Object(l.a)(Object(l.a)({},o[t]),{},{length:e.length-c});n.splice(t+1,0,a),u(n)}}}),[o,L,f]);return n?Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("div",{className:"Blocks",onScroll:D,ref:g,children:Object(a.jsx)("div",{className:"Scroller",style:U,children:L.map((function(t){var e=t.type,c=t.start,r=t.length,i=t.top,s=t.height,o=t.layout;return Object(a.jsx)(x,{type:e,data:n,start:c,length:r,visibleStart:C,visibleEnd:S,top:i,height:s,columns:o.columns,cursor:f,contentsComponent:J[e],onUpdateCursor:p,onUpdateLength:T,onUpdateType:I,onMergeBlock:P},c)}))})}),Object(a.jsxs)("div",{className:"Panel",children:[Object(a.jsx)(H,{className:"Inspector",data:n,cursor:f,onSplitBlock:E}),Object(a.jsx)(M,{onUpdateData:c})]})]}):Object(a.jsx)("h1",{children:"Loading"})},G=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),r(t),i(t)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(V,{})}),document.getElementById("root")),G()}},[[23,1,2]]]);
//# sourceMappingURL=main.64ae2412.chunk.js.map